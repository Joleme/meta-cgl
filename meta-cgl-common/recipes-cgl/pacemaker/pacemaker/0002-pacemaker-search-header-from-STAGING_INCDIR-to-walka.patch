From 844ec301031b0e6a3000c793906ba476f08a1e65 Mon Sep 17 00:00:00 2001
From: Li xin <lixin.fnst@cn.fujitsu.com>
Date: Wed, 27 Dec 2017 05:20:45 +0000
Subject: [PATCH] pacemaker: search header from STAGING_INCDIR to walkaround
 error

** -I/usr/include/ is unsafe for cross-compilation

 ... ...

 ** This autoconf log indicates errors, it looked at host include and/or library paths
 ** while determining system capabilities

Upstream-Status: pending

Signed-off-by: Bian Naimeng <biannm@cn.fujitsu.com>
Signed-off-by: Li Xin <lixin.fnst@cn.fujitsu.com>
Signed-off-by: Mingli Yu <Mingli.Yu@windriver.com>

---
 configure.ac | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/configure.ac b/configure.ac
index 5e420f2..5d442a5 100644
--- a/configure.ac
+++ b/configure.ac
@@ -484,6 +484,9 @@ esac
 dnl Eventually remove this
 if test "$cross_compiling" != "yes"; then
    CPPFLAGS="$CPPFLAGS -I${prefix}/include/heartbeat"
+else
+   CFLAGS="$CFLAGS -I${STAGING_INCDIR}/heartbeat"
+   CPPFLAGS="$CPPFLAGS -I${STAGING_INCDIR}/heartbeat"
 fi
 
 AC_SUBST(INIT_EXT)
